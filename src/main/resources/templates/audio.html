<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">

<!--<head>
    <title>RecordRTC: WebRTC audio/video recording Â® Muaz Khan</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> </meta>
    <meta charset="utf-8"> </meta>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"> </meta>
    <link rel="stylesheet" href="https://cdn.webrtc-experiment.com/style.css"> </link>

    <style>
        audio {
            vertical-align: bottom;
            width: 10em;
        }
        video {
            max-width: 100%;
            vertical-align: top;
        }
        input {
            border: 1px solid #d9d9d9;
            border-radius: 1px;
            font-size: 2em;
            margin: .2em;
            width: 30%;
        }
        p,
        .inner {
            padding: 1em;
        }
        li {
            border-bottom: 1px solid rgb(189, 189, 189);
            border-left: 1px solid rgb(189, 189, 189);
            padding: .5em;
        }
        label {
            display: inline-block;
            width: 8em;
        }
    </style>

    <style>
        .recordrtc button {
            font-size: inherit;
        }

        .recordrtc button, .recordrtc select {
            vertical-align: middle;
            line-height: 1;
            padding: 2px 5px;
            height: auto;
            font-size: inherit;
            margin: 0;
        }

        .recordrtc, .recordrtc .header {
            display: block;
            text-align: center;
            padding-top: 0;
        }

        .recordrtc video {
            width: 70%;
        }

        .recordrtc option[disabled] {
            display: none;
        }
    </style>

    <script src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script>
    <script src="https://cdn.webrtc-experiment.com/gif-recorder.js"></script>
    <script src="https://cdn.webrtc-experiment.com/getScreenId.js"></script>

    <!-- for Edige/FF/Chrome/Opera/etc. getUserMedia support -->
    <!--<script src="https://cdn.webrtc-experiment.com/gumadapter.js"></script>-->
<!--</head>-->

<!--<body>-->
    <!--<section class="experiment recordrtc">-->
        <!--<h2 class="header">-->
            <!--<select class="recording-media">-->
                <!--<option value="record-video">Video</option>-->
                <!--<option value="record-audio">Audio</option>-->
                <!--<option value="record-screen">Screen</option>-->
            <!--</select>-->

            <!--into-->
            <!--<select class="media-container-format">-->
                <!--<option>WebM</option>-->
                <!--<option>Mp4</option>-->
                <!--<option>WAV</option>-->
                <!--<option>Ogg</option>-->
                <!--<option>Gif</option>-->
            <!--</select>-->

            <!--<button>Start Recording</button>-->
        <!--</h2>-->

        <!--<div style="text-align: center; display: none;">-->
            <!--<button id="save-to-disk">Save To Disk</button>-->
            <!--<button id="open-new-tab">Open New Tab</button>-->
        <!--</div>-->


    <!--</section>-->

    <!--<script>-->
        <!--(function() {-->
            <!--var params = {},-->
                    <!--r = /([^&=]+)=?([^&]*)/g;-->

            <!--function d(s) {-->
                <!--return decodeURIComponent(s.replace(/\+/g, ' '));-->
            <!--}-->

            <!--var match, search = window.location.search;-->
            <!--while (match = r.exec(search.substring(1))) {-->
                <!--params[d(match[1])] = d(match[2]);-->

                <!--if(d(match[2]) === 'true' || d(match[2]) === 'false') {-->
                    <!--params[d(match[1])] = d(match[2]) === 'true' ? true : false;-->
                <!--}-->
            <!--}-->

            <!--window.params = params;-->
        <!--})();-->
    <!--</script>-->

    <!--<script>-->
        <!--function intallFirefoxScreenCapturingExtension() {-->
            <!--InstallTrigger.install({-->
                <!--'Foo': {-->
                    <!--// URL: 'https://addons.mozilla.org/en-US/firefox/addon/enable-screen-capturing/',-->
                    <!--URL: 'https://addons.mozilla.org/firefox/downloads/file/355418/enable_screen_capturing_in_firefox-1.0.006-fx.xpi?src=cb-dl-hotness',-->
                    <!--toString: function() {-->
                        <!--return this.URL;-->
                    <!--}-->
                <!--}-->
            <!--});-->
        <!--}-->

        <!--var recordingDIV = document.querySelector('.recordrtc');-->
        <!--var recordingMedia = recordingDIV.querySelector('.recording-media');-->
        <!--var recordingPlayer = recordingDIV.querySelector('video');-->
        <!--var mediaContainerFormat = recordingDIV.querySelector('.media-container-format');-->

        <!--window.onbeforeunload = function() {-->
            <!--recordingDIV.querySelector('button').disabled = false;-->
            <!--recordingMedia.disabled = false;-->
            <!--mediaContainerFormat.disabled = false;-->
        <!--};-->

        <!--recordingDIV.querySelector('button').onclick = function() {-->
            <!--var button = this;-->

            <!--if(button.innerHTML === 'Stop Recording') {-->
                <!--button.disabled = true;-->
                <!--button.disableStateWaiting = true;-->
                <!--setTimeout(function() {-->
                    <!--button.disabled = false;-->
                    <!--button.disableStateWaiting = false;-->
                <!--}, 2 * 1000);-->

                <!--button.innerHTML = 'Star Recording';-->

                <!--function stopStream() {-->
                    <!--if(button.stream && button.stream.stop) {-->
                        <!--button.stream.stop();-->
                        <!--button.stream = null;-->
                    <!--}-->
                <!--}-->

                <!--if(button.recordRTC) {-->
                    <!--if(button.recordRTC.length) {-->
                        <!--button.recordRTC[0].stopRecording(function(url) {-->
                            <!--if(!button.recordRTC[1]) {-->
                                <!--button.recordingEndedCallback(url);-->
                                <!--stopStream();-->

                                <!--saveToDiskOrOpenNewTab(button.recordRTC[0]);-->
                                <!--return;-->
                            <!--}-->

                            <!--button.recordRTC[1].stopRecording(function(url) {-->
                                <!--button.recordingEndedCallback(url);-->
                                <!--stopStream();-->
                            <!--});-->
                        <!--});-->
                    <!--}-->
                    <!--else {-->
                        <!--button.recordRTC.stopRecording(function(url) {-->
                            <!--button.recordingEndedCallback(url);-->
                            <!--stopStream();-->

                            <!--saveToDiskOrOpenNewTab(button.recordRTC);-->
                        <!--});-->
                    <!--}-->
                <!--}-->

                <!--return;-->
            <!--}-->

            <!--button.disabled = true;-->

            <!--var commonConfig = {-->
                <!--onMediaCaptured: function(stream) {-->
                    <!--button.stream = stream;-->
                    <!--if(button.mediaCapturedCallback) {-->
                        <!--button.mediaCapturedCallback();-->
                    <!--}-->

                    <!--button.innerHTML = 'Stop Recording';-->
                    <!--button.disabled = false;-->
                <!--},-->
                <!--onMediaStopped: function() {-->
                    <!--button.innerHTML = 'Start Recording';-->

                    <!--if(!button.disableStateWaiting) {-->
                        <!--button.disabled = false;-->
                    <!--}-->
                <!--},-->
                <!--onMediaCapturingFailed: function(error) {-->
                    <!--if(error.name === 'PermissionDeniedError' && !!navigator.mozGetUserMedia) {-->
                        <!--intallFirefoxScreenCapturingExtension();-->
                    <!--}-->

                    <!--commonConfig.onMediaStopped();-->
                <!--}-->
            <!--};-->

            <!--var mimeType = 'video/webm';-->
            <!--if(mediaContainerFormat.value === 'Mp4') {-->
                <!--mimeType = 'video/mp4';-->
            <!--}-->

            <!--if(recordingMedia.value === 'record-video') {-->
                <!--captureVideo(commonConfig);-->

                <!--button.mediaCapturedCallback = function() {-->
                    <!--button.recordRTC = RecordRTC(button.stream, {-->
                        <!--type: mediaContainerFormat.value === 'Gif' ? 'gif' : 'video',-->
                        <!--mimeType: isChrome ? null: mimeType,-->
                        <!--disableLogs: params.disableLogs || false,-->
                        <!--canvas: {-->
                            <!--width: params.canvas_width || 320,-->
                            <!--height: params.canvas_height || 240-->
                        <!--},-->
                        <!--frameInterval: typeof params.frameInterval !== 'undefined' ? parseInt(params.frameInterval) : 20 // minimum time between pushing frames to Whammy (in milliseconds)-->
                    <!--});-->

                    <!--button.recordingEndedCallback = function(url) {-->
                        <!--recordingPlayer.src = null;-->

                        <!--if(mediaContainerFormat.value === 'Gif') {-->
                            <!--recordingPlayer.pause();-->
                            <!--recordingPlayer.poster = url;-->

                            <!--recordingPlayer.onended = function() {-->
                                <!--recordingPlayer.pause();-->
                                <!--recordingPlayer.poster = URL.createObjectURL(button.recordRTC.blob);-->
                            <!--};-->
                            <!--return;-->
                        <!--}-->

                        <!--recordingPlayer.src = url;-->
                        <!--recordingPlayer.play();-->

                        <!--recordingPlayer.onended = function() {-->
                            <!--recordingPlayer.pause();-->
                            <!--recordingPlayer.src = URL.createObjectURL(button.recordRTC.blob);-->
                        <!--};-->
                    <!--};-->

                    <!--button.recordRTC.startRecording();-->
                <!--};-->
            <!--}-->

            <!--if(recordingMedia.value === 'record-audio') {-->
                <!--captureAudio(commonConfig);-->

                <!--button.mediaCapturedCallback = function() {-->
                    <!--var options = {-->
                        <!--type: 'audio',-->
                        <!--mimeType: mimeType,-->
                        <!--bufferSize: typeof params.bufferSize == 'undefined' ? 0 : parseInt(params.bufferSize),-->
                        <!--sampleRate: typeof params.sampleRate == 'undefined' ? 44100 : parseInt(params.sampleRate),-->
                        <!--leftChannel: params.leftChannel || false,-->
                        <!--disableLogs: params.disableLogs || false,-->
                        <!--recorderType: webrtcDetectedBrowser === 'edge' ? StereoAudioRecorder : null-->
                    <!--};-->

                    <!--if(typeof params.sampleRate == 'undefined') {-->
                        <!--delete options.sampleRate;-->
                    <!--}-->

                    <!--button.recordRTC = RecordRTC(button.stream, options);-->

                    <!--button.recordingEndedCallback = function(url) {-->
                        <!--var audio = new Audio();-->
                        <!--audio.src = url;-->
                        <!--audio.controls = true;-->
                        <!--recordingPlayer.parentNode.appendChild(document.createElement('hr'));-->
                        <!--recordingPlayer.parentNode.appendChild(audio);-->

                        <!--if(audio.paused) audio.play();-->

                        <!--audio.onended = function() {-->
                            <!--audio.pause();-->
                            <!--audio.src = URL.createObjectURL(button.recordRTC.blob);-->
                        <!--};-->
                    <!--};-->

                    <!--button.recordRTC.startRecording();-->
                <!--};-->
            <!--}-->

            <!--if(recordingMedia.value === 'record-audio-plus-video') {-->
                <!--captureAudioPlusVideo(commonConfig);-->

                <!--button.mediaCapturedCallback = function() {-->

                    <!--if(typeof MediaRecorder === 'undefined') { // opera or chrome etc.-->
                        <!--button.recordRTC = [];-->

                        <!--if(!params.bufferSize) {-->
                            <!--// it fixes audio issues whilst recording 720p-->
                            <!--params.bufferSize = 16384;-->
                        <!--}-->

                        <!--var options = {-->
                            <!--type: 'audio',-->
                            <!--bufferSize: typeof params.bufferSize == 'undefined' ? 0 : parseInt(params.bufferSize),-->
                            <!--sampleRate: typeof params.sampleRate == 'undefined' ? 44100 : parseInt(params.sampleRate),-->
                            <!--leftChannel: params.leftChannel || false,-->
                            <!--disableLogs: params.disableLogs || false,-->
                            <!--recorderType: webrtcDetectedBrowser === 'edge' ? StereoAudioRecorder : null-->
                        <!--};-->

                        <!--if(typeof params.sampleRate == 'undefined') {-->
                            <!--delete options.sampleRate;-->
                        <!--}-->

                        <!--var audioRecorder = RecordRTC(button.stream, options);-->

                        <!--var videoRecorder = RecordRTC(button.stream, {-->
                            <!--type: 'video',-->
                            <!--disableLogs: params.disableLogs || false,-->
                            <!--canvas: {-->
                                <!--width: params.canvas_width || 320,-->
                                <!--height: params.canvas_height || 240-->
                            <!--},-->
                            <!--frameInterval: typeof params.frameInterval !== 'undefined' ? parseInt(params.frameInterval) : 20 // minimum time between pushing frames to Whammy (in milliseconds)-->
                        <!--});-->

                        <!--// to sync audio/video playbacks in browser!-->
                        <!--videoRecorder.initRecorder(function() {-->
                            <!--audioRecorder.initRecorder(function() {-->
                                <!--audioRecorder.startRecording();-->
                                <!--videoRecorder.startRecording();-->
                            <!--});-->
                        <!--});-->

                        <!--button.recordRTC.push(audioRecorder, videoRecorder);-->

                        <!--button.recordingEndedCallback = function() {-->
                            <!--var audio = new Audio();-->
                            <!--audio.src = audioRecorder.toURL();-->
                            <!--audio.controls = true;-->
                            <!--audio.autoplay = true;-->

                            <!--audio.onloadedmetadata = function() {-->
                                <!--recordingPlayer.src = videoRecorder.toURL();-->
                                <!--recordingPlayer.play();-->
                            <!--};-->

                            <!--recordingPlayer.parentNode.appendChild(document.createElement('hr'));-->
                            <!--recordingPlayer.parentNode.appendChild(audio);-->

                            <!--if(audio.paused) audio.play();-->
                        <!--};-->
                        <!--return;-->
                    <!--}-->

                    <!--button.recordRTC = RecordRTC(button.stream, {-->
                        <!--type: 'video',-->
                        <!--mimeType: mimeType,-->
                        <!--disableLogs: params.disableLogs || false,-->
                        <!--// bitsPerSecond: 25 * 8 * 1025 // 25 kbits/s-->
                        <!--getNativeBlob: false // enable it for longer recordings-->
                    <!--});-->

                    <!--button.recordingEndedCallback = function(url) {-->
                        <!--recordingPlayer.muted = false;-->
                        <!--recordingPlayer.removeAttribute('muted');-->
                        <!--recordingPlayer.src = url;-->
                        <!--recordingPlayer.play();-->

                        <!--recordingPlayer.onended = function() {-->
                            <!--recordingPlayer.pause();-->
                            <!--recordingPlayer.src = URL.createObjectURL(button.recordRTC.blob);-->
                        <!--};-->
                    <!--};-->

                    <!--button.recordRTC.startRecording();-->
                <!--};-->
            <!--}-->

            <!--if(recordingMedia.value === 'record-screen') {-->
                <!--captureScreen(commonConfig);-->

                <!--button.mediaCapturedCallback = function() {-->
                    <!--button.recordRTC = RecordRTC(button.stream, {-->
                        <!--type: mediaContainerFormat.value === 'Gif' ? 'gif' : 'video',-->
                        <!--mimeType: mimeType,-->
                        <!--disableLogs: params.disableLogs || false,-->
                        <!--canvas: {-->
                            <!--width: params.canvas_width || 320,-->
                            <!--height: params.canvas_height || 240-->
                        <!--}-->
                    <!--});-->

                    <!--button.recordingEndedCallback = function(url) {-->
                        <!--recordingPlayer.src = null;-->

                        <!--if(mediaContainerFormat.value === 'Gif') {-->
                            <!--recordingPlayer.pause();-->
                            <!--recordingPlayer.poster = url;-->
                            <!--recordingPlayer.onended = function() {-->
                                <!--recordingPlayer.pause();-->
                                <!--recordingPlayer.poster = URL.createObjectURL(button.recordRTC.blob);-->
                            <!--};-->
                            <!--return;-->
                        <!--}-->

                        <!--recordingPlayer.src = url;-->
                        <!--recordingPlayer.play();-->
                    <!--};-->

                    <!--button.recordRTC.startRecording();-->
                <!--};-->
            <!--}-->

            <!--// note: audio+tab is supported in Chrome 50+-->
            <!--// todo: add audio+tab recording-->
            <!--if(recordingMedia.value === 'record-audio-plus-screen') {-->
                <!--captureAudioPlusScreen(commonConfig);-->

                <!--button.mediaCapturedCallback = function() {-->
                    <!--button.recordRTC = RecordRTC(button.stream, {-->
                        <!--type: 'video',-->
                        <!--mimeType: mimeType,-->
                        <!--disableLogs: params.disableLogs || false,-->
                        <!--// bitsPerSecond: 25 * 8 * 1025 // 25 kbits/s-->
                        <!--getNativeBlob: false // enable it for longer recordings-->
                    <!--});-->

                    <!--button.recordingEndedCallback = function(url) {-->
                        <!--recordingPlayer.muted = false;-->
                        <!--recordingPlayer.removeAttribute('muted');-->
                        <!--recordingPlayer.src = url;-->
                        <!--recordingPlayer.play();-->

                        <!--recordingPlayer.onended = function() {-->
                            <!--recordingPlayer.pause();-->
                            <!--recordingPlayer.src = URL.createObjectURL(button.recordRTC.blob);-->
                        <!--};-->
                    <!--};-->

                    <!--button.recordRTC.startRecording();-->
                <!--};-->
            <!--}-->
        <!--};-->

        <!--function captureVideo(config) {-->
            <!--captureUserMedia({video: true}, function(videoStream) {-->
                <!--recordingPlayer.srcObject = videoStream;-->
                <!--recordingPlayer.play();-->

                <!--config.onMediaCaptured(videoStream);-->

                <!--videoStream.onended = function() {-->
                    <!--config.onMediaStopped();-->
                <!--};-->
            <!--}, function(error) {-->
                <!--config.onMediaCapturingFailed(error);-->
            <!--});-->
        <!--}-->

        <!--function captureAudio(config) {-->
            <!--captureUserMedia({audio: true}, function(audioStream) {-->
                <!--recordingPlayer.srcObject = audioStream;-->
                <!--recordingPlayer.play();-->

                <!--config.onMediaCaptured(audioStream);-->

                <!--audioStream.onended = function() {-->
                    <!--config.onMediaStopped();-->
                <!--};-->
            <!--}, function(error) {-->
                <!--config.onMediaCapturingFailed(error);-->
            <!--});-->
        <!--}-->

        <!--function captureAudioPlusVideo(config) {-->
            <!--captureUserMedia({video: true, audio: true}, function(audioVideoStream) {-->
                <!--recordingPlayer.srcObject = audioVideoStream;-->
                <!--recordingPlayer.play();-->

                <!--config.onMediaCaptured(audioVideoStream);-->

                <!--audioVideoStream.onended = function() {-->
                    <!--config.onMediaStopped();-->
                <!--};-->
            <!--}, function(error) {-->
                <!--config.onMediaCapturingFailed(error);-->
            <!--});-->
        <!--}-->

        <!--function captureScreen(config) {-->
            <!--getScreenId(function(error, sourceId, screenConstraints) {-->
                <!--if (error === 'not-installed') {-->
                    <!--document.write('<h1><a target="_blank" href="https://chrome.google.com/webstore/detail/screen-capturing/ajhifddimkapgcifgcodmmfdlknahffk">Please install this chrome extension then reload the page.</a></h1>');-->
                <!--}-->

                <!--if (error === 'permission-denied') {-->
                    <!--alert('Screen capturing permission is denied.');-->
                <!--}-->

                <!--if (error === 'installed-disabled') {-->
                    <!--alert('Please enable chrome screen capturing extension.');-->
                <!--}-->

                <!--if(error) {-->
                    <!--config.onMediaCapturingFailed(error);-->
                    <!--return;-->
                <!--}-->

                <!--delete screenConstraints.video.mozMediaSource;-->
                <!--captureUserMedia(screenConstraints, function(screenStream) {-->
                    <!--recordingPlayer.srcObject = screenStream;-->
                    <!--recordingPlayer.play();-->

                    <!--config.onMediaCaptured(screenStream);-->

                    <!--screenStream.onended = function() {-->
                        <!--config.onMediaStopped();-->
                    <!--};-->
                <!--}, function(error) {-->
                    <!--config.onMediaCapturingFailed(error);-->
                <!--});-->
            <!--});-->
        <!--}-->

        <!--function captureAudioPlusScreen(config) {-->
            <!--getScreenId(function(error, sourceId, screenConstraints) {-->
                <!--if (error === 'not-installed') {-->
                    <!--document.write('<h1><a target="_blank" href="https://chrome.google.com/webstore/detail/screen-capturing/ajhifddimkapgcifgcodmmfdlknahffk">Please install this chrome extension then reload the page.</a></h1>');-->
                <!--}-->

                <!--if (error === 'permission-denied') {-->
                    <!--alert('Screen capturing permission is denied.');-->
                <!--}-->

                <!--if (error === 'installed-disabled') {-->
                    <!--alert('Please enable chrome screen capturing extension.');-->
                <!--}-->

                <!--if(error) {-->
                    <!--config.onMediaCapturingFailed(error);-->
                    <!--return;-->
                <!--}-->

                <!--screenConstraints.audio = true;-->

                <!--delete screenConstraints.video.mozMediaSource;-->
                <!--captureUserMedia(screenConstraints, function(screenStream) {-->
                    <!--recordingPlayer.srcObject = screenStream;-->
                    <!--recordingPlayer.play();-->

                    <!--config.onMediaCaptured(screenStream);-->

                    <!--screenStream.onended = function() {-->
                        <!--config.onMediaStopped();-->
                    <!--};-->
                <!--}, function(error) {-->
                    <!--config.onMediaCapturingFailed(error);-->
                <!--});-->
            <!--});-->
        <!--}-->

        <!--function captureUserMedia(mediaConstraints, successCallback, errorCallback) {-->
            <!--var isBlackBerry = !!(/BB10|BlackBerry/i.test(navigator.userAgent || ''));-->
            <!--if(isBlackBerry &amp;&amp; !!(navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia)) {-->
                <!--navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;-->
                <!--navigator.getUserMedia(mediaConstraints, successCallback, errorCallback);-->
                <!--return;-->
            <!--}-->

            <!--navigator.mediaDevices.getUserMedia(mediaConstraints).then(successCallback).catch(errorCallback);-->
        <!--}-->

        <!--function setMediaContainerFormat(arrayOfOptionsSupported) {-->
            <!--var options = Array.prototype.slice.call(-->
                    <!--mediaContainerFormat.querySelectorAll('option')-->
            <!--);-->

            <!--var selectedItem;-->
            <!--options.forEach(function(option) {-->
                <!--option.disabled = true;-->

                <!--if(arrayOfOptionsSupported.indexOf(option.value) !== -1) {-->
                    <!--option.disabled = false;-->

                    <!--if(!selectedItem) {-->
                        <!--option.selected = true;-->
                        <!--selectedItem = option;-->
                    <!--}-->
                <!--}-->
            <!--});-->
        <!--}-->

        <!--recordingMedia.onchange = function() {-->
            <!--var options = [];-->
            <!--if(webrtcDetectedBrowser === 'firefox') {-->
                <!--if(this.value === 'record-audio') {-->
                    <!--options.push('Ogg');-->
                <!--}-->
                <!--else {-->
                    <!--options.push('WebM', 'Mp4');-->
                <!--}-->

                <!--setMediaContainerFormat(options);-->
                <!--return;-->
            <!--}-->
            <!--if(this.value === 'record-audio') {-->
                <!--setMediaContainerFormat(['WAV', 'Ogg']);-->
                <!--return;-->
            <!--}-->
            <!--setMediaContainerFormat(['WebM', 'Mp4', 'Ogg']);-->
        <!--};-->

        <!--if(webrtcDetectedBrowser === 'edge') {-->
            <!--// webp isn't supported in Microsoft Edge-->
            <!--// neither MediaRecorder API-->
            <!--// so lets disable both video/screen recording options-->

            <!--console.warn('Neither MediaRecorder API nor webp is supported in Microsoft Edge. You cam merely record audio.');-->

            <!--recordingMedia.innerHTML = '<option value="record-audio">Audio</option>';-->
            <!--setMediaContainerFormat(['WAV']);-->
        <!--}-->

        <!--if(webrtcDetectedBrowser === 'firefox') {-->
            <!--// Firefox implemented both MediaRecorder API as well as WebAudio API-->
            <!--// Their MediaRecorder implementation supports both audio/video recording in single container format-->
            <!--// Remember, we can't currently pass bit-rates or frame-rates values over MediaRecorder API (their implementation lakes these features)-->

            <!--recordingMedia.innerHTML = '<option value="record-audio-plus-video">Audio+Video</option>'-->
                    <!--+ '<option value="record-audio-plus-screen">Audio+Screen</option>'-->
                    <!--+ recordingMedia.innerHTML;-->

            <!--setMediaContainerFormat(['WebM', 'Mp4']);-->
        <!--}-->

        <!--if(webrtcDetectedBrowser === 'chrome') {-->
            <!--recordingMedia.innerHTML = '<option value="record-audio-plus-video">Audio+Video</option>'-->
                    <!--+ recordingMedia.innerHTML;-->

            <!--if(typeof MediaRecorder === 'undefined') {-->
                <!--console.info('This RecordRTC demo merely tries to playback recorded audio/video sync inside the browser. It still generates two separate files (WAV/WebM).');-->
            <!--}-->
        <!--}-->

        <!--function saveToDiskOrOpenNewTab(recordRTC) {-->
            <!--recordingDIV.querySelector('#save-to-disk').parentNode.style.display = 'block';-->
            <!--recordingDIV.querySelector('#save-to-disk').onclick = function() {-->
                <!--if(!recordRTC) return alert('No recording found.');-->

                <!--recordRTC.save();-->
            <!--};-->

            <!--recordingDIV.querySelector('#open-new-tab').onclick = function() {-->
                <!--if(!recordRTC) return alert('No recording found.');-->

                <!--window.open(recordRTC.toURL());-->
            <!--};-->
        <!--}-->
    <!--</script>-->




    <!--<script>-->
        <!--// todo: need to check exact chrome browser because opera also uses chromium framework-->
        <!--var isChrome = !!navigator.webkitGetUserMedia;-->

        <!--// DetectRTC.js - https://github.com/muaz-khan/WebRTC-Experiment/tree/master/DetectRTC-->
        <!--// Below code is taken from RTCMultiConnection-v1.8.js (http://www.rtcmulticonnection.org/changes-log/#v1.8)-->
        <!--var DetectRTC = {};-->

        <!--(function () {-->

            <!--var screenCallback;-->

            <!--DetectRTC.screen = {-->
                <!--chromeMediaSource: 'screen',-->
                <!--getSourceId: function(callback) {-->
                    <!--if(!callback) throw '"callback" parameter is mandatory.';-->
                    <!--screenCallback = callback;-->
                    <!--window.postMessage('get-sourceId', '*');-->
                <!--},-->
                <!--isChromeExtensionAvailable: function(callback) {-->
                    <!--if(!callback) return;-->

                    <!--if(DetectRTC.screen.chromeMediaSource == 'desktop') return callback(true);-->

                    <!--// ask extension if it is available-->
                    <!--window.postMessage('are-you-there', '*');-->

                    <!--setTimeout(function() {-->
                        <!--if(DetectRTC.screen.chromeMediaSource == 'screen') {-->
                            <!--callback(false);-->
                        <!--}-->
                        <!--else callback(true);-->
                    <!--}, 2000);-->
                <!--},-->
                <!--onMessageCallback: function(data) {-->
                    <!--if (!(typeof data == 'string' || !!data.sourceId)) return;-->

                    <!--console.log('chrome message', data);-->

                    <!--// "cancel" button is clicked-->
                    <!--if(data == 'PermissionDeniedError') {-->
                        <!--DetectRTC.screen.chromeMediaSource = 'PermissionDeniedError';-->
                        <!--if(screenCallback) return screenCallback('PermissionDeniedError');-->
                        <!--else throw new Error('PermissionDeniedError');-->
                    <!--}-->

                    <!--// extension notified his presence-->
                    <!--if(data == 'rtcmulticonnection-extension-loaded') {-->
                        <!--if(document.getElementById('install-button')) {-->
                            <!--document.getElementById('install-button').parentNode.innerHTML = '<strong>Great!</strong> <a href="https://chrome.google.com/webstore/detail/screen-capturing/ajhifddimkapgcifgcodmmfdlknahffk" target="_blank">Google chrome extension</a> is installed.';-->
                        <!--}-->
                        <!--DetectRTC.screen.chromeMediaSource = 'desktop';-->
                    <!--}-->

                    <!--// extension shared temp sourceId-->
                    <!--if(data.sourceId) {-->
                        <!--DetectRTC.screen.sourceId = data.sourceId;-->
                        <!--if(screenCallback) screenCallback( DetectRTC.screen.sourceId );-->
                    <!--}-->
                <!--},-->
                <!--getChromeExtensionStatus: function (callback) {-->
                    <!--if (!!navigator.mozGetUserMedia) return callback('not-chrome');-->

                    <!--var extensionid = 'ajhifddimkapgcifgcodmmfdlknahffk';-->

                    <!--var image = document.createElement('img');-->
                    <!--image.src = 'chrome-extension://' + extensionid + '/icon.png';-->
                    <!--image.onload = function () {-->
                        <!--DetectRTC.screen.chromeMediaSource = 'screen';-->
                        <!--window.postMessage('are-you-there', '*');-->
                        <!--setTimeout(function () {-->
                            <!--if (!DetectRTC.screen.notInstalled) {-->
                                <!--callback('installed-enabled');-->
                            <!--}-->
                        <!--}, 2000);-->
                    <!--};-->
                    <!--image.onerror = function () {-->
                        <!--DetectRTC.screen.notInstalled = true;-->
                        <!--callback('not-installed');-->
                    <!--};-->
                <!--}-->
            <!--};-->

            <!--// check if desktop-capture extension installed.-->
            <!--if(window.postMessage && isChrome) {-->
                <!--DetectRTC.screen.isChromeExtensionAvailable();-->
            <!--}-->
        <!--})();-->

        <!--DetectRTC.screen.getChromeExtensionStatus(function(status) {-->
            <!--if(status == 'installed-enabled') {-->
                <!--if(document.getElementById('install-button')) {-->
                    <!--document.getElementById('install-button').parentNode.innerHTML = '<strong>Great!</strong> <a href="https://chrome.google.com/webstore/detail/screen-capturing/ajhifddimkapgcifgcodmmfdlknahffk" target="_blank">Google chrome extension</a> is installed.';-->
                <!--}-->
                <!--DetectRTC.screen.chromeMediaSource = 'desktop';-->
            <!--}-->
        <!--});-->

        <!--window.addEventListener('message', function (event) {-->
            <!--if (event.origin != window.location.origin) {-->
                <!--return;-->
            <!--}-->

            <!--DetectRTC.screen.onMessageCallback(event.data);-->
        <!--});-->
    <!--</script>-->




<!--&lt;!&ndash; commits.js is useless for you! &ndash;&gt;-->
<!--<script>-->
    <!--window.useThisGithubPath = 'muaz-khan/RecordRTC';-->
<!--</script>-->
<!--<script src="https://cdn.webrtc-experiment.com/commits.js" async></script>-->
<!--</body>-->

<!--</html>-->


<!--Test ONE on wavesurfer done!-->
<!--<head>-->
    <!--<script type="text/javascript" src="/static/js/wavesurfer.min.js" th:src="@{/js/wavesurfer.min.js}"></script>-->

    <!--&lt;!&ndash; wavesurfer.js microphone -->
    <!--<script type="text/javascript" src="/static/js/wavesurfer.microphone.min.js" th:src="@{/js/wavesurfer.microphone.min.js}"></script>-->
<!--</head>-->
<!--<body>-->
<!--<div id="waveform"></div>-->

<!--<p align="center">-->
    <!--<button class="btn btn-primary btn-lg" onclick="microphone.start()">-->
        <!--Start the mic-->
    <!--</button>-->
<!--</p>-->
<!--<script>-->
    <!--var wavesurfer = WaveSurfer.create({ container: '#waveform', waveColor: 'violet' });-->

    <!--var microphone = Object.create(WaveSurfer.Microphone);-->

    <!--microphone.init({-->
        <!--wavesurfer: wavesurfer-->
    <!--});-->

    <!--microphone.on('deviceReady', function(stream) {-->
        <!--microphone.play();-->
        <!--console.log('Device ready!', stream);-->
    <!--});-->
    <!--microphone.on('deviceError', function(code) {-->
        <!--console.warn('Device error: ' + code);-->
    <!--});-->
<!--</script>-->
<!--</body>&ndash;&gt;-->

<!--Test TWO using wavesurfer-->
<!--<head>-->
    <!--<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> </meta>-->
    <!--<title>wavesurfer.js | Microphone plugin</title>-->

    <!--<link href="data:image/gif;" rel="icon" type="image/x-icon"> </link>-->

    <!--&lt;!&ndash; Bootstrap -->
    <!--<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet"> </link>-->

    <!--<link rel="stylesheet" href="../css/style.css" />-->
    <!--<link rel="stylesheet" href="../css/ribbon.css" />-->
    <!--<link  rel="stylesheet" href="../css/style.css" th:href="@{/css/style.css}" media="screen"> </link>-->
    <!--<link  rel="stylesheet" href="../css/ribbon.css" th:href="@{/css/ribbon.css}" media="screen"> </link>-->


     <!--wavesurfer.js -->
    <!--<script type="text/javascript" src="/static/js/wavesurfer.min.js" th:src="@{/js/wavesurfer.min.js}"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.1.2/wavesurfer.min.js"></script>-->

     <!--microphone renderer -->
    <!--<script type="text/javascript" src="/static/js/wavesurfer.microphone.min.js" th:src="@{/js/wavesurfer.microphone.min.js}"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.1.2/plugin/wavesurfer.microphone.min.js"></script>-->
    <!--<script type="text/javascript" src="/static/js/rec.js" th:src="@{/js/rec.js}"></script>-->
     <!--App -->
    <!--<script src="app.js"></script>-->
<!--</head>-->

<!--<body>-->
<!--<div class="container">-->
    <!--<div id="demo">-->
        <!--<div id="waveform"></div>-->

        <!--<div class="controls">-->
            <!--<button id="micBtn" class="btn btn-primary" data-action="start">-->
                <!--Microphone:-->
                <!--<i class="glyphicon glyphicon-play"></i>-->
                <!--Start/-->
                <!--<i class="glyphicon glyphicon-stop"></i>-->
                <!--Stop-->
            <!--</button>-->
            <!--<button id="playbtn" class="btn btn-success" data-action="playpause">-->
                <!--<i class="glyphicon glyphicon-play"></i>-->
                <!--Play-->
            <!--</button>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->

<!--<script>-->
    <!--(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){-->
                <!--(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),-->
            <!--m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)-->
    <!--})(window,document,'script','//www.google-analytics.com/analytics.js','ga');-->
    <!--ga('create', 'UA-50026819-1', 'wavesurfer.fm');-->
    <!--ga('send', 'pageview');-->
<!--</script>-->
<!--</body>-->
<!--&ndash;&gt;-->





<!--Actual Project-->
<!--<head>-->
    <!--<meta http-equiv="content-type" content="text/html; charset=UTF-8"> </meta>-->
    <!--<meta name="viewport" content="width=device-width, initial-scale=1"> </meta>-->
    <!--<title>Audio Recording App</title>-->
    <!--<link th:if="${mode=='development'}" rel="stylesheet" href="../static/css/bootstrap.css" th:href="@{/css/bootstrap.css}" media="screen"/>-->
    <!--<link th:if="${mode=='production'}" rel="stylesheet" href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" media="screen"/>-->
    <!--<script type="text/javascript" src="/static/js/angular.min.js" th:src="@{/js/angular.min.js}"></script>-->
    <!--<script type="text/javascript" src="/static/app/app.module.js" th:src="@{/app/app.module.js}"></script>-->
    <!--<script type="text/javascript" src="/static/app/recordings.controller.js" th:src="@{/app/recordings.controller.js}"></script>-->
    <!--<script src="http://code.jquery.com/jquery-2.1.1.js"></script>-->
<!--</head>-->
<!--<body ng-app="app" ng-controller="RecordingsController as vm">-->
<!--<header style="background-color: #f5f5f5;">-->
    <!--<nav class="navbar navbar-default">-->
        <!--<div class="container-fluid">-->
            <!--<div class="navbar-header">-->
                <!--<a href="#" class="navbar-brand" style="float:left;" >Recording Details</a>-->
                <!--<p class="navbar-text navbar-right"  style="float:right;">Signed in as anonymous</p>-->
            <!--</div>-->
        <!--</div>-->
    <!--</nav>-->
<!--</header>-->
<!--<div>-->
    <!--<div class="row">-->
        <!--<div class="col-lg-offset-2 col-lg-8" style="padding-left: 35px;">-->
            <!--<div class="btn-group" role="group">-->
                <!--<button ng-click="vm.getAll()" type="button" class="btn btn-primary">All</button>-->
                <!--<button ng-click="vm.getRecordings()" type="button" class="btn btn-primary">Latest Recording</button>-->
            <!--</div>-->
            <!--<table class="table">-->
                <!--<thead>-->
                <!--<tr>-->
                    <!--<th>RecordId</th>-->
                    <!--<th>Recording</th>-->
                    <!--<th>Subject</th>-->
                    <!--<th>NumberOfRecordings</th>-->
                <!--</tr>-->
                <!--</thead>-->
                <!--<tbody>-->
                <!--<tr ng-repeat="recording in vm.recordings">-->
                    <!--<td>{{recording.recordId}}</td>-->
                    <!--<td>{{recording.userRecording}}</td>-->
                    <!--<td><span>-->
                        <!--<audio controls="controls" preload="none">-->
                            <!--ng-src tag not working-->
                                <!--QuickFix: use src with exp of angular-->
                            <!--<source src="{{recording.userRecording}}" type="audio/mpeg"> </source>-->
                            <!--<source src="/media/bts.mp3" type="audio/mp3"> </source>-->
                    <!--</audio>-->
                    <!--</span></td>-->
                    <!--<td>{{recording.subject}}</td>-->
                    <!--<td>{{recording.numberOfRecordings}}</td>-->
                    <!--<td>-->
                        <!--<button class="btn btn-warning" ng-click="vm.downloadRecording(recording.recordId)">Download</button>-->
                        <!--&lt;!&ndash;<a href="/media/bts.mp3" data-file-download="true">Download</a>-->
                    <!--</td>&ndash;&gt;-->
                    <!--<td>-->
                        <!--<button class="btn btn-danger" ng-click="vm.deleteRecording(recording.recordId)">Delete</button>-->
                    <!--</td>-->
                <!--</tr>-->
                <!--</tbody>-->
            <!--</table>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->
<!--<footer class="footer" style="position:absolute; bottom: 0;background-color: #f5f5f5;">-->
    <!--<div class="container">-->
        <!--<p th:text="${#dates.format(datetime,'dd mm yyyy HH:mm')}" class="text-muted">Page rendered today</p>-->
    <!--</div>-->
<!--</footer>-->
<!--</body>-->




<!--Using videojs not working-->
<!--<head>-->
    <!--<meta charset="utf-8"> </meta>-->
    <!--<title>Audio-only Example - Record Plugin for Video.js</title>-->

    <!--<link href="//vjs.zencdn.net/5.8/video-js.min.css" rel="stylesheet"> </link>-->
    <!--<link href="../src/css/videojs.record.css" rel="stylesheet">0
    <link href="https://collab-project.github.io/videojs-record/dist/css/videojs.record.min.css" rel="stylesheet"> </link>
    <link  rel="stylesheet" href="../css/style.css" th:href="@{/css/style.css}" media="screen"> </link>
    <link  rel="stylesheet" href="../css/videojs.record.css" th:href="@{/css/videojs.record.css}" media="screen"> </link>
    <script type="text/javascript" src="/static/js/video.min.js" th:src="@{/js/video.min.js}"></script>
    <script src="//cdn.webrtc-experiment.com/RecordRTC.js"></script>
    <script type="text/javascript" src="/static/js/wavesurfer.min.js" th:src="@{/js/wavesurfer.min.js}"></script>
    <script type="text/javascript" src="/static/js/wavesurfer.microphone.min.js" th:src="@{/js/wavesurfer.microphone.min.js}"></script>
    <script src="//collab-project.github.io/videojs-wavesurfer/dist/videojs.wavesurfer.min.js"></script>
    <script type="text/javascript" src="/static/js/videojs.record.js" th:src="@{/js/videojs.record.js}"></script>

    <style>
        /* change player background color */
        #myAudio {
            background-color: #9FD6BA;
        }
    </style>
</head>
<body>

<audio id="myAudio" class="video-js vjs-default-skin"></audio>

<script>
    var player = videojs("myAudio",
            {
                controls: true,
                width: 600,
                height: 300,
                plugins: {
                    wavesurfer: {
                        src: "live",
                        waveColor: "black",
                        progressColor: "#2E732D",
                        cursorWidth: 1,
                        msDisplayMax: 20,
                        hideScrollbar: true
                    },
                    record: {
                        audio: true,
                        video: false,
                        maxLength: 20,
                        debug: true
                    }
                }
            });
    // error handling
    player.on('deviceError', function()
    {
        console.log('device error:', player.deviceErrorCode);
    });
    player.on('error', function(error)
    {
        console.log('error:', error);
    });
    // user clicked the record button and started recording
    player.on('startRecord', function()
    {
        console.log('started recording!');
    });
    // user completed recording and stream is available
    player.on('finishRecord', function()
    {
        // the blob object contains the recorded data that
        // can be downloaded by the user, stored on server etc.
        console.log('finished recording: ', player.recordedData);
    });-->
<!--
</script>
</body>
</html>


-->

